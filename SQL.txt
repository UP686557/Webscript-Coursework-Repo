CREATE DATABASE IF NOT EXISTS coursework_db;

CREATE TABLE IF NOT EXISTS Product(
    ID int NOT NULL AUTO_INCREMENT,
    Name varchar(255) NOT NULL,
    Description varchar(255) NOT NULL,
    Quantity int NOT NULL,
    Price float NOT NULL,
    Photo varchar(50),
    PRIMARY KEY (ID)
) ENGINE=innoDB;

INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("iPhone 6", "iPhone 6 32GB Gold", 10, "Images/Products/iPhone6.png", 599.00);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("iMac", "2011 model, 1TB Hard Drive storage memory, 8GB RAM Memory, Quad core intel i7 processor", 15, "Images/Products/iMac.png", 1200.00);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("iPad 2", "iPad 2 16GB wifi only", 50, "Images/Products/iPad2.png", 499.00);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("iPhone 5", "iPhone 5 64GB White", 10, "Images/Products/iPhone5.png", 399.00);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("iWatch", "Coming soon", 0, "Images/Products/iWatch.png", 399.99);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("Samsung TV", '55" Samsung Smart TV', 2, "Images/Products/55SamsungTV.png", 1000);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("MacBook Pro Retina", '2015 MacBook Pro Retina display- 8GB RAM- 128GB flash storage- Backlit Keyboard', 30, "Images/Products/macbookProRetina.png", 999);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("MacBook Air", '2015 MacBook Air', 20, "Images/Products/macbookAir.png", 899);
INSERT INTO Product (Name, Description, Quantity, Photo, Price) VALUES ("Trampoline", 'A 10ft trampoline', 3, "Images/Products/trampoline.png", 40);



CREATE TABLE IF NOT EXISTS Customer(
    ID int NOT NULL AUTO_INCREMENT,
    FirstName varchar(255) NOT NULL,
    LastName varchar(255) NOT NULL,
    Email varchar(255) NOT NULL,
    PhoneNumber varchar(11) NOT NULL,
    Address varchar(50),
    Town varchar(50),
    County varchar(50),
    PostCode varchar(50),
    PRIMARY KEY (ID)
) ENGINE=innoDB;

CREATE TABLE IF NOT EXISTS OrderTable(
  ID int NOT NULL AUTO_INCREMENT,
  Date date NOT NULL,
  PRIMARY KEY (ID),
  Customer_ID int NOT NULL,
  CONSTRAINT fk_Order_1
    FOREIGN KEY (Customer_ID)
    REFERENCES coursework_db.Customer (ID)
) ENGINE=innoDB;



CREATE TABLE IF NOT EXISTS OrderItem(
  ID int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (ID),
  Product_ID int NOT NULL,
  Order_ID int NOT NULL,
  Quantity int NOT NULL,
  CONSTRAINT fk_OrderItem_1
    FOREIGN KEY (Product_ID)
    REFERENCES coursework_db.Product(ID),
  CONSTRAINT fk_OrderItem_2
    FOREIGN KEY (Order_ID)
    REFERENCES coursework_db.OrderTable(ID)
) ENGINE=innoDB;
